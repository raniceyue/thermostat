(this.webpackJsonpthermostat=this.webpackJsonpthermostat||[]).push([[0],{19:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var c=n(6),s=n.n(c),r=n(21),a=n.n(r),o=(n(19),n(12)),i=n(38),l=(n(28),n(39)),u=Object(l.a)({id:"mode",initial:"IDLE",states:{IDLE:{on:{TEMP_TOO_HOT:"COOLING",TEMP_TOO_COLD:"HEATING"}},COOLING:{on:{TEMP_OK:"IDLE"}},HEATING:{on:{TEMP_OK:"IDLE"}}}}),d=n(22),j=n(23),h=function(){function e(t,n,c){Object(d.a)(this,e),this.dT=t,this.dTcool=n,this.dTheat=c}return Object(j.a)(e,[{key:"getStatus",value:function(e,t,n){var c;switch(e){case"COOLING":c=this.cooling(t,n);break;case"HEATING":c=this.heating(t,n);break;case"IDLE":c=this.idle(t,n)}return c}},{key:"idle",value:function(e,t){var n=t+this.dT+this.dTcool,c=t-this.dT-this.dTheat;return e>n?"TEMP_TOO_HOT":e<c?"TEMP_TOO_COLD":e>=c&&e<=n?"MAINTAIN":void 0}},{key:"cooling",value:function(e,t){return e<t+(this.dT-this.dTcool)?"TEMP_OK":"MAINTAIN"}},{key:"heating",value:function(e,t){return e>t-this.dT-this.dTheat?"TEMP_OK":"MAINTAIN"}}]),e}();n(29);function m(e,t,n,c){var s=(c-90)*Math.PI/180;return{x:e+n*Math.cos(s),y:t+n*Math.sin(s)}}function v(e,t,n,c,s){var r=m(e,t,n,s),a=m(e,t,n,c),o=s-c<=180?"0":"1";return["M",r.x,r.y,"A",n,n,0,o,0,a.x,a.y].join(" ")}var O=n(2),b=function(){var e=v(50,50,43,-130,130),t=v(50,50,43,130,230);return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"thermostat-border",children:Object(O.jsxs)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[Object(O.jsx)("circle",{cx:"50%",cy:"50%",r:"50",className:"svg-thermo-outer-border"}),Object(O.jsx)("circle",{cx:"50%",cy:"50%",r:"47",className:"svg-thermo-inner-border"}),Object(O.jsx)("defs",{children:Object(O.jsxs)("linearGradient",{id:"myGradient",children:[Object(O.jsx)("stop",{className:"svg-arc-cooling",offset:"30%"}),Object(O.jsx)("stop",{className:"svg-arc-heating",offset:"70%"})]})}),Object(O.jsx)("path",{className:"svg-arc",stroke:"url('#myGradient')",d:e}),Object(O.jsx)("path",{className:"svg-arc svg-arc-bottom",d:t})]})})})},g=(n(31),n(32),function(e){var t=e.Tt,n=e.Tc;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("text",{x:"50%",y:"55%",className:"thermo-temp-text",children:t}),Object(O.jsxs)("text",{x:"50%",y:"65%",className:"thermo-curr-temp-text",children:["Current: ",n]})]})}),x=function(e){var t=e.Tt,n=e.Tc,s=e.mode,r=Object(c.useState)("svg-thermo-face-idle"),a=Object(o.a)(r,2),i=a[0],l=a[1];return Object(c.useEffect)((function(){"COOLING"===s&&l("svg-thermo-face-cooling"),"HEATING"===s&&l("svg-thermo-face-heating"),"IDLE"===s&&l("svg-thermo-face-idle")}),[s]),Object(O.jsx)("div",{className:"thermostat-face",children:Object(O.jsxs)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[Object(O.jsx)("circle",{id:"svg-thermo-face",className:i,cx:"50%",cy:"50%",r:"42.1"}),Object(O.jsx)(g,{Tt:t,Tc:n}),Object(O.jsx)("path",{className:"svg-sun-icon",d:"M12, 9c1.65, 0, 3, 1.35, 3, 3s-1.35, 3-3, 3s-3-1.35-3-3 S10.35, 9, 12, 9 \r M12, 7c-2.76, 0-5, 2.24-5, 5s2.24, 5, 5, 5s5-2.24, 5-5 S14.76, 7, 12, 7L12, 7z \r M2, 13l2, 0c0.55, 0, 1-0.45, 1-1s-0.45-1-1-1l-2, 0c-0.55, 0-1,0.45-1, 1S1.45,13,2, 13z \r M20, 13l2, 0c0.55, 0, 1-0.45, 1-1 s-0.45-1-1-1l-2, 0c-0.55, 0-1, 0.45-1, 1S19.45, 13, 20, 13z \r M11, 2v2c0, 0.55, 0.45, 1, 1, 1s1-0.45, 1-1V2c0-0.55-0.45-1-1-1S11, 1.45, 11, 2z \r M11, 20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45, \r 19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,\r 0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03, 0-1.41L5.99,4.58z \r M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39, 1.03,0,\r 1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03, 0-1.41 \r L18.36,16.95z \r M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,\r 0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z \r M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,\r 0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"})]})})},f=(n(33),function(e){var t=e.Tt,n=e.handleTtChange,s=function e(t){console.log("MOUSE UP: Removing mouse event listeners for slider"),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",e)},r=function(e){var t=document.querySelector(".origin").getBoundingClientRect().left,c=document.querySelector(".origin").getBoundingClientRect().top,s=e.pageX,r=e.pageY,a=Math.atan2(s-t,-(r-c))*(180/Math.PI),o=Math.round(65+Math.round(a/10));n(o)},a=Object(c.useCallback)((function(e){n(t+1)}),[t,n]),o=Object(c.useCallback)((function(e){n(t-1)}),[t,n]);return Object(c.useEffect)((function(){var e=document.getElementsByClassName("slider")[0];return e.addEventListener("scrollUp",a),e.addEventListener("scrollDown",o),function(){e.removeEventListener("scrollUp",a),e.removeEventListener("scrollDown",o)}}),[a,o]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"slider",onMouseDown:function(e){return console.log("MOUSE DOWN: Adding mouse event listeners for slider"),document.addEventListener("mousemove",r),void document.addEventListener("mouseup",s)},onWheel:function(e){return function(e){var t=document.getElementsByClassName("slider")[0],n=new CustomEvent("scrollUp"),c=new CustomEvent("scrollDown");e.deltaY<0?t.dispatchEvent(n):t.dispatchEvent(c)}(e)},children:Object(O.jsx)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{className:"slider-marks",d:v(50,50,37,-150,150)})})}),Object(O.jsx)("div",{className:"origin"})]})}),T=(n(34),function(e){var t=e.minTc,n=e.maxTc,c=e.Tc,s=e.handleTcChange;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("label",{htmlFor:"tc-input-text",children:"Set Current Temperature "}),Object(O.jsx)("input",{type:"number",id:"tc-input-text",value:c,onChange:function(e){return s(e.target.value)}}),Object(O.jsx)("input",{type:"range",id:"tc-input-range",min:t,max:n,value:c,onChange:function(e){return s(e.target.value)}})]})}),E=function(){var e=Object(c.useState)(parseInt(72)),t=Object(o.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(parseInt(72)),a=Object(o.a)(r,2),l=a[0],d=a[1],j=Object(i.b)(u),m=Object(o.a)(j,2),v=m[0],g=m[1],E=new h(2,1.5,1),N=Object(c.useCallback)((function(){var e=E.getStatus(v.value,l,n);"MAINTAIN"!==e&&g(e),console.log(e)}),[l,n,E,v.value,g]);return Object(c.useEffect)((function(){N()}),[N]),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"thermostat",children:[Object(O.jsxs)("div",{className:"thermostat-container",children:[Object(O.jsx)(b,{}),Object(O.jsx)(x,{Tt:n,Tc:l,mode:v.value}),Object(O.jsx)(f,{Tt:n,handleTtChange:function(e){e>=50&&e<=80&&(s(e),console.log("Tt received by slider: "+e+"\nNew Tt value: "+n))}})]}),Object(O.jsx)("div",{className:"control-container",children:Object(O.jsx)(T,{minTc:32,maxTc:100,Tc:l,handleTcChange:function(e){e>=32&&e<=100&&d(e)}})})]})})};var N=function(){return Object(O.jsx)(E,{})};a.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(N,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.aead8981.chunk.js.map